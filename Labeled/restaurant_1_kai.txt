Total = # 23

1. Show me all the restaurants.
SELECT ResName FROM Restaurant;

2. What is the address of restaurant Subway?
SELECT Address
FROM Restaurant
WHERE ResName="Subway";

3.What is the rate of restaurant Subway?
SELECT Rating
FROM Restaurant
WHERE ResName="Subway";

4. List all restaurant types.

SELECT ResTypeName FROM Restaurant_Type;

5. What is the description of restaurant type Sandwich?

SELECT ResTypeDescription
FROM Restaurant_Type
WHERE ResTypeName="Sandwich";

6. Which restaurant have highest rating? List the restaurant name and its rating.

SELECT ResName,Rating
FROM Restaurant
ORDER BY Rating desc
LIMIT 1;

7. What is the age of student Linda Smith?
SELECT Age
FROM Student
Where Fname="Linda" and Lname="Smith";

8. What is the gender of student Linda Smith?
SELECT Sex
FROM Student
Where Fname="Linda" and Lname="Smith";

9. List all students' first name and last name who major in 600.

SELECT Fname,Lname
FROM Student
WHERE Major = 600;

10. Which city does student Linda Smith live in?
SELECT city_code
FROM Student
Where Fname="Linda" and Lname="Smith";

11. Advisor 1121 has how many student?

SELECT count(*)
FROM Student
WHERE Advisor= 1121;

12. Which Advisor has most of students? List advisor and the number of students.

SELECT Advisor, count(*)
FROM Student
GROUP BY Advisor
ORDER BY count(Advisor) DESC
LIMIT 1;

13. Which major has least number of students? List the major and the number of students.

SELECT Major, count(*)
FROM Student
GROUP BY Major
ORDER BY count(Major) ASC
LIMIT 1;

14. Which major has between 2 and 30 number of students? List major and the number of students.
SELECT Major, count(*)
FROM Student
GROUP BY Major
HAVING count(Major) between 2 and 30;

15. Which students age is older than 18 and major in 600? List students' first name and last name.
SELECT Fname,Lname
FROM Student
WHERE Age > 18 and Major=600;

16. List all female students age is older than 18 who is not major in 600. List students' first name and last name.
SELECT Fname,Lname
FROM Student
WHERE Age > 18 and Major != 600 and Sex='F';

SELECT Fname,Lname
FROM Student
WHERE Age > 18 and Sex='F'
EXCEPT
SELECT Fname,Lname
FROM Student
WHERE Major = 600

17. What is restaurant Subway's type?
SELECT ResTypeName
FROM Restaurant JOIN Type_Of_Restaurant ON Restaurant.ResID= Type_Of_Restaurant.ResID JOIN Restaurant_Type ON Type_Of_Restaurant.ResTypeID=Restaurant_Type.ResTypeID
WHERE Restaurant.ResName="Subway";

18. How many restaurant is Sandwich type restaurant?

SELECT count(*)
FROM Restaurant JOIN Type_Of_Restaurant ON Restaurant.ResID= Type_Of_Restaurant.ResID JOIN Restaurant_Type ON Type_Of_Restaurant.ResTypeID=Restaurant_Type.ResTypeID
GROUP BY Type_Of_Restaurant.ResTypeID
HAVING Restaurant_Type.ResTypeName='Sandwich'

19. How long does student Linda Smith spent on restaurant in total?

SELECT sum(Spent)
FROM Student JOIN Visits_Restaurant ON Student.StuID=Visits_Restaurant.StuID
WHERE Student.Fname="Linda" and Student.Lname="Smith";

20. How many times does student Linda Smith visited Subway?

SELECT count(*)
FROM Student JOIN Visits_Restaurant ON Student.StuID=Visits_Restaurant.StuID JOIN Restaurant ON Visits_Restaurant.ResID=Restaurant.ResID
WHERE Student.Fname="Linda" and Student.Lname="Smith" AND Restaurant.ResName="Subway";

21. When did Linda Smith visited Subway?
SELECT Time
FROM Student JOIN Visits_Restaurant ON Student.StuID=Visits_Restaurant.StuID JOIN Restaurant ON Visits_Restaurant.ResID=Restaurant.ResID
WHERE Student.Fname="Linda" and Student.Lname="Smith" AND Restaurant.ResName="Subway";

22. Which restaurant students spent least of time? List restaurant and the time students spent on in total.

SELECT Restaurant.ResName, sum(Visits_Restaurant.Spent)
FROM Visits_Restaurant JOIN Restaurant ON Visits_Restaurant.ResID=Restaurant.ResID
GROUP BY Restaurant.ResID
ORDER BY sum(Visits_Restaurant.Spent) ASC
LIMIT 1;

23. Which student visited restaurant most often? List student's first name and last name.
SELECT Student.Fname,Student.Lname
FROM Student JOIN Visits_Restaurant ON Student.StuID=Visits_Restaurant.StuID
GROUP BY Student.StuID
ORDER BY count(*) DESC
LIMIT 1;

